@{
	ViewData["Title"] = "權限群組管理";
}
@model IEnumerable<BabyCiao.Models.DTO.AuthDTO>
@section Styles
{
	<link href="~/lib/font-awesome/css/all.min.css" rel="stylesheet" />
	<style>

	</style>
}


<a asp-controller="Auth" asp-action="Create"  class="btn btn-outline-secondary"><i class="fa-solid fa-plus"></i> 新增群組</a>
<table class="table table-striped table-hover">
	<thead>
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.GroupId)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.GroupDescription)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.ModifiedPersonUserAccount)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.ModifiedDateStringOld)
			</th>
			<th>群組功能</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		@foreach (var item in Model)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.GroupId)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.GroupDescription)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.ModifiedPersonUserAccount)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.ModifiedDateStringOld)
				</td>
				<td>
					<ul>
						@foreach (var setting in item.settings)
						{
							<li>@setting.FunctionId - @setting.FunctionName</li>
						}
					</ul>
				</td>
				<td>
					<a asp-controller="Auth" asp-action="Edit" asp-route-GroupId="@item.GroupId" class="btn btn-outline-secondary"><i class="fa-solid fa-pen-to-square"></i> 編輯</a>
					<a asp-controller="Auth" asp-action="Detail" asp-route-GroupId="@item.GroupId" class="btn btn-outline-secondary"><i class="fa-solid fa-file-lines"></i> 群組明細</a>
					<a asp-controller="Auth" asp-action="Delete" asp-route-GroupId="@item.GroupId" class="btn btn-outline-danger"><i class="fa-regular fa-trash-can"></i> 刪除</a>

				</td>
			</tr>
		}
	</tbody>
</table>
