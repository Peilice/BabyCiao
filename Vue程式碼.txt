<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>投票活動總覽</title>
    <link rel="icon" type="image/png" href="image/logo2.png">
    <!-- Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
    <!-- icon -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <!-- Vue -->
    <script src="https://unpkg.com/vue@latest"></script>
</head>
<body>
    <div class="container mb-4">
        <h1 class="text-center mb-3 mt-3 fw-bold">線上投票活動</h1>
        <div class="d-flex">
            <div class="dropdown me-4">
                階段
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    不限
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li><a class="dropdown-item" href="#">不限</a></li>
                    <li><a class="dropdown-item" href="#">報名中</a></li>
                    <li><a class="dropdown-item" href="#">進行中</a></li>
                    <li><a class="dropdown-item" href="#">已結束</a></li>
                </ul>
            </div>
            <div class="dropdown">
                排序
                <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton1"
                        data-bs-toggle="dropdown" aria-expanded="false">
                    最新
                </button>
                <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
                    <li><a class="dropdown-item" href="#">最新</a></li>
                    <li><a class="dropdown-item" href="#">熱門</a></li>
                    <li><a class="dropdown-item" href="#">投票數</a></li>
                    <li><a class="dropdown-item" href="#">參選數</a></li>
                </ul>
            </div>
        </div>
    </div>
    <div id="app" class="container">
        <!-- 活動列表 -->
        <div class="row mb-4">
            <div class="row row-cols-1 row-cols-md-3 g-4">
                <div class="col">
                    <div class="card h-100" v-for="item in OnlineCompetitions" :key="competition.id">
                        <a href="voteInfo.html"><img src="image/vote03.jpg" class="card-img-top" alt="..."></a>
                        <div class="card-body">
                            <h5 class="card-title">{{ item.CompetitionName }}</h5>
                            <input type="text" class="form-control" v-model="Competitionstitle" />
                            <button class="btn btn-outline-dark mb-2" type="submit">
                                <i class="bi bi-heart">收藏</i>
                            </button>
                            <div class="d-flex justify-content-between">
                                <div class="d-flex">
                                    <span class="badge bg-light text-dark">報名中</span>
                                    <span class="badge bg-light text-dark">投票中</span>
                                    <span class="badge bg-light text-dark">已結束</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!-- footer -->
    <footer>
        <div class="footer">
            <p>電話：0945789456 | 地址：高雄市前鎮區中華五路200號</p>
            <p><small>&copy; 2024 BabyCiao</small></p>
        </div>
    </footer>

    <!-- Bootstrap -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
            crossorigin="anonymous"></script>
    <!-- jquery -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <!-- axios -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.7.2/axios.min.js"
            integrity="sha512-JSCFHhKDilTRRXe9ak/FJ28dcpOJxzQaCd3Xg8MyF6XFjODhy/YMCM8HW0TFDckNHWUewW+kfvhin43hKtJxAw=="
            crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script>
        var baseAddress="https://localhost:7292";
        var vueApp = {
            data() {
                return {
                    CompetitionName: "寶寶爬行",
                    OnlineCompetitions: [],
                };
            },
            methods: {
                getcompetitions: function () {
                    let _this = this;
                    //var request = {};
                    try {
                        axios.post(`${_this.baseAddress}/api/OnlineCompetitions`)
                        .then(response => {
                            _this.OnlineCompetitions = response.data;
                        })
                        .catch(err => alert(err))
                    } 
                    catch (error) {
                        console.log(error);
                    }
                },
            },
            mounted: function () {
                let _this = this;
                _this.getcompetitions()
            }


        };
        var app = Vue.createApp(vueApp).mount('#app');
    </script>
</body>
</html>